### 담당 기능

* **음성 텍스트 변환 DB 저장/일별 운동 페이지(테이블)**



#### 05/17

* 직접 음성 파일 녹음 후 테스트
* 음성 파일로부터 추출한 텍스트 파일을 DB에 저장
* `DayExercise` 테이블 속성 수정 후 테스트

```sql
CREATE TABLE DayExercise (
    year VARCHAR2(10),
    month VARCHAR2(10),
    exdate VARCHAR2(10),
    day VARCHAR2(10),
    exName VARCHAR2(30),
    count NUMBER(10)
);
```

* 스프링 프로젝트 생성 -> 데이터베이스의 데이터 불러오기 테스트용
* 기능 구현 방법 정보 찾기
  * 자바스크립트 : 마이크 기능
    * http://yoonbumtae.com/?p=2486
  * 운동 칼로리 계산
    * https://search.naver.com/search.naver?where=nexearch&sm=top_sug.pre&fbm=1&acr=1&acq=%EC%B9%BC%EB%A1%9C%EB%A6%AC+%EA%B3%84%EC%82%B0&qdt=0&ie=utf8&query=%EC%9A%B4%EB%8F%99+%EC%B9%BC%EB%A1%9C%EB%A6%AC+%EA%B3%84%EC%82%B0%EA%B8%B0 => 시간/몸무게를 입력하면 운동 칼로리 계산해줌
    * https://www.foodsafetykorea.go.kr/portal/healthyfoodlife/workoutCalorie.do?menu_no=3073&menu_grp=MENU_NEW03 => 소비할 열량/성별/나이/키/몸무게/운동 종류 선택하면 추천 활동과 운동 시간 알려줌



----

#### 5/18

#### 진행 상황

* 스프링 프로젝트에서 `Controller` / `DAO` / `VO` 생성 및 수정
* 데이터베이스 생성 및 수정 (언제든 수정될 수 있음..!)

```sql
 -- 운동 종류 테이블
CREATE TABLE exercise (
    exNo VARCHAR2(10)  NOT NULL PRIMARY KEY,
    exName VARCHAR2(30)
);

INSERT INTO exercise VALUES ('1', '걷기');
INSERT INTO exercise VALUES ('2', '달리기');
INSERT INTO exercise VALUES ('3', '윗몸일으키기');
INSERT INTO exercise VALUES ('4', '스쿼트');
INSERT INTO exercise VALUES ('5', '사이클');
INSERT INTO exercise VALUES ('6', '플랭크');
```



```sql
-- 운동 기록 테이블
CREATE TABLE DayExercise (
    dayNo VARCHAR2(30)  NOT NULL PRIMARY KEY,
    year VARCHAR2(10),
    month VARCHAR2(10),
    exdate VARCHAR2(10),
    day VARCHAR2(10),
    exNo VARCHAR2(10),
    weight NUMBER(10), -- 걷기나 달리기 같은건.......거리 속성을 추가해야하나???
    count NUMBER(10),
    CONSTRAINT FK_DayExercise_exercise FOREIGN KEY (exNo) REFERENCES exercise (exNo)
);

INSERT INTO DayExercise VALUES ('1', '2021', '05', '17', '월요일', '1', 10, 10);
INSERT INTO DayExercise VALUES ('2', '2021', '05', '18', '화요일', '2', 10, 20);
```



#### 해야할 일

* **데이터베이스 구조 고민해보기**

  * 운동 테이블에 넣을 운동 종류들
  * 운동 기록 테이블에 넣을 속성들 (ex : 거리, 무게 등...)

* **텍스트로 변환된 데이터베이스 처리 방법 찾기**

  * 일단은 변환한 텍스트 파일 데이터를 일일이 데이터베이스에 입력중....

* **웹 페이지에 데이터 출력하는 방법 찾기**

  (1) 단순히 텍스트로만 출력을 할 것인지

  (2) 데이터베이스를 통해 출력 받을 건지 (*일단 이 방법 사용중!*)



---

#### 5/19, 5/20

#### 진행 상황

* 웹 페이지에서 `DayExercise` 테이블 데이터 입력/수정/삭제 기능 수정 완료!
* 스프링 부트랑 연동 작업



#### 해야할 일

* 5/18 상동
* 음성 녹음 기능 추가 (우선 순위 X, 앞 기능 구현된 후에)



-----

#### 5/21

#### 진행 상황

* **운동 관리 페이지에서 현재 날짜 및 요일 출력**
  * 2021년 5월 21일 금요일의 운동
  * JSP에서 요일 출력하기 참고
    * https://blog.naver.com/lllkhy0924/221761631161
* **운동 기록 테이블 만들기**
  * 일단은 임의로 넣은 텍스트만 출력
  * DB에 있는 데이터 불러오기는 아직 구현 X
* `Member` 테이블 생성
* **운동 (종류) 테이블 조회용 Controller/DAO/VO 생성**
  * `DayExercise` 테이블 이외의 테이블은 어떻게 조회하는지 고민.............

```
// IExerciseService
// 운동 종류 테스트
ArrayList<ExerInfoVO> exerInfoList();
ExerInfoVO exerInfoDetailView(String exNo);
```



```
// ExercieseController
// 운동 종류 조회
	@RequestMapping("/exer/exerInfoListView")
	public String viewExerInfoList(Model model) {
		ArrayList<ExerInfoVO> exerInfoList = service.exerInfoList();
		model.addAttribute("exerInfoList", exerInfoList);
		return "exer/exerInfoListView";
	}
```



```
// IExercieseDAO
// 운동 종류 조회 테스트
	public ArrayList<ExerInfoVO> exerInfoList();
	public ExerciseVO exerInfoDetailView(String exNo);
```



```
<!-- ExercisMapper -->
<!-- 운동 종류 조회 -->
  	<select id="exerInfoList" resultMap="exerInfoResult">
  		SELECT * FROM exercise ORDER BY exNo
 	</select>
```



```
// ExerInfoVO

public class ExerInfoVO {
	private String exNo;
	private String exName;
	
	public String getExNo() {
		return exNo;
	}
	public void setExNo(String exNo) {
		this.exNo = exNo;
	}
	public String getExName() {
		return exName;
	}
	public void setExName(String exName) {
		this.exName = exName;
	}
}
```



#### 해야할 일

* **아이디/날짜 별 데이터베이스 출력**

* **운동 관리 페이지에서 음성 녹음 기능 추가**

